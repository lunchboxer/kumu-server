var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}function o(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function c(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function d(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function p(){return h(" ")}function f(){return h("")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function w(e,t){t=""+t,e.data!==t&&(e.data=t)}function b(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}let y;function v(e){y=e}function k(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const x=[],$=[],_=[],S=[],T=Promise.resolve();let C=!1;function M(e){_.push(e)}function N(){const e=new Set;do{for(;x.length;){const e=x.shift();v(e),A(e.$$)}for(;$.length;)$.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];e.has(n)||(n(),e.add(n))}_.length=0}while(x.length);for(;S.length;)S.pop()();C=!1}function A(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(M))}const P=new Set;let E;function q(){E={r:0,c:[],p:E}}function D(){E.r||r(E.c),E=E.p}function z(e,t){e&&e.i&&(P.delete(e),e.i(t))}function L(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),E.c.push(()=>{P.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function O(e,t){e.d(1),t.delete(e.key)}function U(e,t){L(e,1,1,()=>{t.delete(e.key)})}function R(e,t,n,r,a,s,i,o,u,l,c,d){let h=e.length,p=s.length,f=h;const g={};for(;f--;)g[e[f].key]=f;const m=[],w=new Map,b=new Map;for(f=p;f--;){const e=d(a,s,f),o=n(e);let u=i.get(o);u?r&&u.p(t,e):(u=l(o,e)).c(),w.set(o,m[f]=u),o in g&&b.set(o,Math.abs(f-g[o]))}const y=new Set,v=new Set;function k(e){z(e,1),e.m(o,c),i.set(e.key,e),c=e.first,p--}for(;h&&p;){const t=m[p-1],n=e[h-1],r=t.key,a=n.key;t===n?(c=t.first,h--,p--):w.has(a)?!i.has(r)||y.has(r)?k(t):v.has(a)?h--:b.get(r)>b.get(a)?(v.add(r),k(t)):(y.add(a),h--):(u(n,i),h--)}for(;h--;){const t=e[h];w.has(t.key)||u(t,i)}for(;p;)k(m[p-1]);return m}function W(e,n,s){const{fragment:i,on_mount:o,on_destroy:u,after_update:l}=e.$$;i.m(n,s),M(()=>{const n=o.map(t).filter(a);u?u.push(...n):r(n),e.$$.on_mount=[]}),l.forEach(M)}function j(e,t){e.$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function Y(e,t){e.$$.dirty||(x.push(e),C||(C=!0,T.then(N)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function H(t,a,s,i,o,u){const l=y;v(t);const c=a.props||{},d=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:null};let h=!1;d.ctx=s?s(t,c,(e,n)=>{d.ctx&&o(d.ctx[e],d.ctx[e]=n)&&(d.bound[e]&&d.bound[e](n),h&&Y(t,e))}):c,d.update(),h=!0,r(d.before_update),d.fragment=i(d.ctx),a.target&&(a.hydrate?d.fragment.l(function(e){return Array.from(e.childNodes)}(a.target)):d.fragment.c(),a.intro&&z(t.$$.fragment),W(t,a.target,a.anchor),N()),v(l)}class I{$destroy(){j(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const Z=[];function B(e,t){return{subscribe:F(e,t).subscribe}}function F(t,n=e){let r;const a=[];function i(e){if(s(t,e)&&(t=e,r)){const e=!Z.length;for(let e=0;e<a.length;e+=1){const n=a[e];n[1](),Z.push(n,t)}if(e){for(let e=0;e<Z.length;e+=2)Z[e][0](Z[e+1]);Z.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,o=e){const u=[s,o];return a.push(u),1===a.length&&(r=n(i)||e),s(t),()=>{const e=a.indexOf(u);-1!==e&&a.splice(e,1),0===a.length&&(r(),r=null)}}}}function X(t,n,s){const i=!Array.isArray(t),o=i?[t]:t,u=n.length<2;return B(s,t=>{let s=!1;const l=[];let c=0,d=e;const h=()=>{if(c)return;d();const r=n(i?l[0]:l,t);u?t(r):d=a(r)?r:e},p=o.map((e,t)=>e.subscribe(e=>{l[t]=e,c&=~(1<<t),s&&h()},()=>{c|=1<<t}));return s=!0,h(),function(){r(p),d()}})}const Q=window.fetch,G=async(e,t)=>{const n=window.localStorage.getItem("parentAuth"),r=n?JSON.parse(n).token:null,a="function"==typeof e?e(t):JSON.stringify({query:e,variables:t}),s=await Q("https://oe.openode.io/api",{method:"post",headers:{"Content-Type":"application/json",Authorization:r||""},body:a}),i=s&&await s.json();if(s&&s.ok&&!i.errors&&i.data)return i.data;throw i.errors},J=()=>{const e=window.localStorage.getItem("parentAuth");return{student:e?JSON.parse(e).student:null,token:e?JSON.parse(e).token:null}},V=(()=>{const{student:e,token:t}=J(),{subscribe:n,set:r,update:a}=F({...e,token:t});return{subscribe:n,login:async(e,t)=>{const n=await G("\n  mutation StudentLogin($studentId: ID!, $password: String!) {\n    studentLogin(studentId: $studentId, password: $password) {\n      token\n      student {\n        id\n        englishName\n        chineseName\n        lastLogin\n      }\n    }\n  }\n",{studentId:e,password:t});window.localStorage.setItem("parentAuth",JSON.stringify(n.studentLogin)),a(e=>({...e,...n.studentLogin.student,token:n.studentLogin.token}))},logout:()=>{const{student:e}=J();return window.localStorage.removeItem("parentAuth"),r({}),e&&e.id},register:async(e,t)=>{const n=await G("\n mutation CreateStudentPassword($studentId: ID!, $password: String!) {\n   createStudentPassword(studentId: $studentId, password: $password) {\n     token\n     student {\n       id\n       englishName\n       chineseName\n       lastLogin\n     }\n   }\n }",{studentId:e,password:t});window.localStorage.setItem("parentAuth",JSON.stringify(n.createStudentPassword)),a(e=>({...e,...n.createStudentPassword.student,token:n.createStudentPassword.token}))}}})();function K(e){var t,n,r=e.component;function a(e){return{props:{params:e.componentParams}}}if(r)var s=new r(a(e));return{c(){s&&s.$$.fragment.c(),t=f()},m(e,r){s&&W(s,e,r),u(e,t,r),n=!0},p(e,n){var i={};if(e.componentParams&&(i.params=n.componentParams),r!==(r=n.component)){if(s){q();const e=s;L(e.$$.fragment,1,0,()=>{j(e,1)}),D()}r?((s=new r(a(n))).$$.fragment.c(),z(s.$$.fragment,1),W(s,t.parentNode,t)):s=null}else r&&s.$set(i)},i(e){n||(s&&z(s.$$.fragment,e),n=!0)},o(e){s&&L(s.$$.fragment,e),n=!1},d(e){e&&l(t),s&&j(s,e)}}}function ee(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const te=B(ee(),function(e){const t=()=>{e(ee())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),ne=X(te,e=>e.location);X(te,e=>e.querystring);function re(){setTimeout(()=>{window.history.back()},0)}function ae(e,t,n){let r;i(e,te,e=>{n("$loc",r=e)});let{routes:a={}}=t;class s{constructor(e,t){if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,s,i=[],o="",u=e.split("/");for(u[0]||u.shift();a=u.shift();)"*"===(n=a[0])?(i.push("wild"),o+="/(.*)"):":"===n?(r=a.indexOf("?",1),s=a.indexOf(".",1),i.push(a.substring(1,~r?r:~s?s:a.length)),o+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~r?"?":"")+"\\"+a.substring(s))):o+="/"+a;return{keys:i,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,this.component=t,this._pattern=n,this._keys=r}match(e){const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=t[++r]||null;return n}}const o=a instanceof Map?a:Object.entries(a),u=[];for(const[e,t]of o)u.push(new s(e,t));let l=null,c={};return e.$set=e=>{"routes"in e&&n("routes",a=e.routes)},e.$$.update=(e={component:1,$loc:1})=>{if(e.component||e.$loc){n("component",l=null);let e=0;for(;!l&&e<u.length;){const t=u[e].match(r.location);t&&(n("component",l=u[e].component),n("componentParams",c=t)),e++}}},{routes:a,component:l,componentParams:c}}class se extends I{constructor(e){super(),H(this,e,ae,K,s,["routes"])}}function ie(e){var t,n,r,a;return{c(){t=d("p"),n=h("The path '"),r=h(e.$location),a=h("' leads nowhere")},m(e,s){u(e,t,s),o(t,n),o(t,r),o(t,a)},p(e,t){e.$location&&w(r,t.$location)},d(e){e&&l(t)}}}function oe(e){var t,n,r,a,s,i,c,f=e.params.item,g=e.params.id?`'${e.params.id}'`:"";return{c(){t=d("p"),n=h("The "),r=d("strong"),a=h(f),s=p(),i=h(g),c=h(" could not be found.")},m(e,l){u(e,t,l),o(t,n),o(t,r),o(r,a),o(t,s),o(t,i),o(t,c)},p(e,t){e.params&&f!==(f=t.params.item)&&w(a,f),e.params&&g!==(g=t.params.id?`'${t.params.id}'`:"")&&w(i,g)},d(e){e&&l(t)}}}function ue(t){var n,r,a,s,i,o,c,h,f;function m(e){return e.params.item?oe:ie}var w=m(t),b=w(t);return{c(){(n=d("h1")).textContent="404",r=p(),(a=d("h2")).textContent="resource not found",s=p(),b.c(),i=p(),(o=d("p")).innerHTML='It might be wise to return to the <a href="#/">main page</a>.',c=p(),(h=d("button")).innerHTML='<i class="fas fa-backward"></i>Â go back',f=g(h,"click",re)},m(e,t){u(e,n,t),u(e,r,t),u(e,a,t),u(e,s,t),b.m(e,t),u(e,i,t),u(e,o,t),u(e,c,t),u(e,h,t)},p(e,t){w===(w=m(t))&&b?b.p(e,t):(b.d(1),(b=w(t))&&(b.c(),b.m(i.parentNode,i)))},i:e,o:e,d(e){e&&(l(n),l(r),l(a),l(s)),b.d(e),e&&(l(i),l(o),l(c),l(h)),f()}}}function le(e,t,n){let r;i(e,ne,e=>{n("$location",r=e)});let{params:a={}}=t;return e.$set=e=>{"params"in e&&n("params",a=e.params)},{params:a,$location:r}}const ce="\n query Students ($searchString: String){\n   students(searchString: $searchString) {\n     id\n     englishName\n     chineseName\n     lastLogin\n   }\n }",de="\n  query Session ($id: ID!){\n    classSession (id: $id){\n      id\n      stage\n      number\n      startsAt\n      endsAt\n      endedAt\n      startedAt\n      lesson {\n        id\n        name\n      }\n      report {\n        summaryEN\n        summaryZH\n        homeworkEN\n        homeworkZH\n        performance\n        published\n        materials {\n          id\n          type\n          title\n          url\n        }\n        words {\n          id\n          english\n          chinese\n          audio\n        }\n      }\n      group {\n        id\n        name\n      }\n    }\n  }",he=(()=>{const{subscribe:e,set:t}=F();return{subscribe:e,get:async e=>{const n=await G("\nquery Student($id: ID!){\n  student(id: $id) {\n    id\n    englishName\n    chineseName\n    birthdate\n    pointsTally\n  }\n  attendances(where: { student: { id: $id } }) {\n    id\n    status\n    classSession {\n      id\n      lesson {\n        name\n      }\n      number\n      endsAt\n      endedAt\n      group {\n        id\n        name\n        semester{\n          id\n          startDate\n          endDate\n        }\n      }\n    }\n  }\n}",{id:e});t({...n.student,attendances:n.attendances})}}})();function pe(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function fe(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var ge=6e4;function me(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var r=t.getTime()%ge;return n*ge+r}function we(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=pe(e);return t.setHours(0,0,0,0),t}var be=864e5;var ye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ve(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var ke={date:ve({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ve({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ve({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $e(e){return function(t,n){var r,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,i=a.width?String(a.width):s;r=e.formattingValues[i]||e.formattingValues[s]}else{var o=e.defaultWidth,u=a.width?String(a.width):e.defaultWidth;r=e.values[u]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function _e(e){return function(t,n){var r=String(t),a=n||{},s=a.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=r.match(i);if(!o)return null;var u,l=o[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(c)?c.findIndex(function(e){return e.test(r)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,function(e){return e.test(r)}),u=e.valueCallback?e.valueCallback(u):u,{value:u=a.valueCallback?a.valueCallback(u):u,rest:r.slice(l.length)}}}var Se,Te={formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof ye[e]?ye[e]:1===t?ye[e].one:ye[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:ke,formatRelative:function(e,t,n,r){return xe[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$e({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$e({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:$e({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$e({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$e({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Se={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},a=n.match(Se.matchPattern);if(!a)return null;var s=a[0],i=n.match(Se.parsePattern);if(!i)return null;var o=Se.valueCallback?Se.valueCallback(i[0]):i[0];return{value:o=r.valueCallback?r.valueCallback(o):o,rest:n.slice(s.length)}}),era:_e({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:_e({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_e({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:_e({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:_e({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ce(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=pe(e).getTime(),r=fe(t);return new Date(n+r)}(e,-fe(t))}function Me(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ne=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Me("yy"===t?r%100:r,t.length)},Ae=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Me(n+1,2)},Pe=function(e,t){return Me(e.getUTCDate(),t.length)},Ee=function(e,t){return Me(e.getUTCHours()%12||12,t.length)},qe=function(e,t){return Me(e.getUTCHours(),t.length)},De=function(e,t){return Me(e.getUTCMinutes(),t.length)},ze=function(e,t){return Me(e.getUTCSeconds(),t.length)},Le=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Me(Math.floor(r*Math.pow(10,n-3)),t.length)},Oe=864e5;function Ue(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=pe(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Re(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=pe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Ue(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var i=Ue(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}var We=6048e5;function je(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=pe(e),n=Ue(t).getTime()-function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Re(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Ue(n)}(t).getTime();return Math.round(n/We)+1}function Ye(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,s=null==a?0:fe(a),i=null==n.weekStartsOn?s:fe(n.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=pe(e),u=o.getUTCDay(),l=(u<i?7:0)+u-i;return o.setUTCDate(o.getUTCDate()-l),o.setUTCHours(0,0,0,0),o}function He(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=pe(e,t),r=n.getUTCFullYear(),a=t||{},s=a.locale,i=s&&s.options&&s.options.firstWeekContainsDate,o=null==i?1:fe(i),u=null==a.firstWeekContainsDate?o:fe(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=Ye(l,t),d=new Date(0);d.setUTCFullYear(r,0,u),d.setUTCHours(0,0,0,0);var h=Ye(d,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}var Ie=6048e5;function Ze(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=pe(e),r=Ye(n,t).getTime()-function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,s=null==a?1:fe(a),i=null==n.firstWeekContainsDate?s:fe(n.firstWeekContainsDate),o=He(e,t),u=new Date(0);return u.setUTCFullYear(o,0,i),u.setUTCHours(0,0,0,0),Ye(u,t)}(n,t).getTime();return Math.round(r/Ie)+1}var Be="midnight",Fe="noon",Xe="morning",Qe="afternoon",Ge="evening",Je="night",Ve={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ne(e,t)},Y:function(e,t,n,r){var a=He(e,r),s=a>0?a:1-a;return"YY"===t?Me(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Me(s,t.length)},R:function(e,t){return Me(Re(e),t.length)},u:function(e,t){return Me(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Ae(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=Ze(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Me(a,t.length)},I:function(e,t,n){var r=je(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Me(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Pe(e,t)},D:function(e,t,n){var r=function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=pe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/Oe)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Me(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Me(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Me(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?Fe:0===a?Be:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?Ge:a>=12?Qe:a>=4?Xe:Je,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ee(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qe(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Me(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Me(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):De(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ze(e,t)},S:function(e,t){return Le(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return et(a);case"XXXX":case"XX":return tt(a);case"XXXXX":case"XXX":default:return tt(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return et(a);case"xxxx":case"xx":return tt(a);case"xxxxx":case"xxx":default:return tt(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ke(a,":");case"OOOO":default:return"GMT"+tt(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ke(a,":");case"zzzz":default:return"GMT"+tt(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return Me(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return Me((r._originalDate||e).getTime(),t.length)}};function Ke(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),s=r%60;if(0===s)return n+String(a);var i=t||"";return n+String(a)+i+Me(s,2)}function et(e,t){return e%60==0?(e>0?"-":"+")+Me(Math.abs(e)/60,2):tt(e,t)}function tt(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+Me(Math.floor(a/60),2)+n+Me(a%60,2)}function nt(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function rt(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var at={p:rt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),a=r[1],s=r[2];if(!s)return nt(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",nt(a,t)).replace("{{time}}",rt(s,t))}},st=["D","DD"],it=["YY","YYYY"];function ot(e){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if("YY"===e)throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if("D"===e)throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if("DD"===e)throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var ut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ct=/^'(.*?)'?$/,dt=/''/g,ht=/[a-zA-Z]/;function pt(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(t),a=n||{},s=a.locale||Te,i=s.options&&s.options.firstWeekContainsDate,o=null==i?1:fe(i),u=null==a.firstWeekContainsDate?o:fe(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=s.options&&s.options.weekStartsOn,c=null==l?0:fe(l),d=null==a.weekStartsOn?c:fe(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!s.localize)throw new RangeError("locale must contain localize property");if(!s.formatLong)throw new RangeError("locale must contain formatLong property");var h=pe(e);if(!function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=pe(e);return!isNaN(t)}(h))throw new RangeError("Invalid time value");var p=Ce(h,me(h)),f={firstWeekContainsDate:u,weekStartsOn:d,locale:s,_originalDate:h};return r.match(lt).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,at[t])(e,s.formatLong,f):e}).join("").match(ut).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return e.match(ct)[1].replace(dt,"'");var n,r=Ve[t];if(r)return a.useAdditionalWeekYearTokens||(n=e,-1===it.indexOf(n))||ot(e),!a.useAdditionalDayOfYearTokens&&function(e){return-1!==st.indexOf(e)}(e)&&ot(e),r(p,e,s.localize,f);if(t.match(ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e}).join("")}function ft(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=pe(e),a=pe(t),s=n||{},i=s.locale||Te;if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");if(!i.formatRelative)throw new RangeError("locale must contain formatRelative property");var o,u=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=we(e),r=we(t),a=n.getTime()-me(n),s=r.getTime()-me(r);return Math.round((a-s)/be)}(r,a);if(isNaN(u))throw new RangeError("Invalid time value");o=u<-6?"other":u<-1?"lastWeek":u<0?"yesterday":u<1?"today":u<2?"tomorrow":u<7?"nextWeek":"other";var l=Ce(r,me(r)),c=Ce(a,me(a));return pt(r,i.formatRelative(o,l,c,s),s)}function gt(e){var t,n,r=e.attendance.classSession.lesson.name;return{c(){t=h("- "),n=h(r)},m(e,r){u(e,t,r),u(e,n,r)},p(e,t){e.attendance&&r!==(r=t.attendance.classSession.lesson.name)&&w(n,r)},d(e){e&&(l(t),l(n))}}}function mt(e){var t,n,r,a=e.attendance.status.toLowerCase();return{c(){t=h("("),n=h(a),r=h(")")},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a)},p(e,t){e.attendance&&a!==(a=t.attendance.status.toLowerCase())&&w(n,a)},d(e){e&&(l(t),l(n),l(r))}}}function wt(e){var t,n=e.format(e.attendance.classSession.endedAt);return{c(){t=h(n)},m(e,n){u(e,t,n)},p(e,r){e.attendance&&n!==(n=r.format(r.attendance.classSession.endedAt))&&w(t,n)},d(e){e&&l(t)}}}function bt(e){var t,n,r=e.format(e.attendance.classSession.endsAt);return{c(){t=h("Scheduled to end "),n=h(r)},m(e,r){u(e,t,r),u(e,n,r)},p(e,t){e.attendance&&r!==(r=t.format(t.attendance.classSession.endsAt))&&w(n,r)},d(e){e&&(l(t),l(n))}}}function yt(t){var n,r,a,s,i,c,f,g,b,y,v,k=t.attendance.classSession.group.name,x=t.attendance.classSession.number,$=t.attendance.classSession.lesson&&gt(t),_="Present"!==t.attendance.status&&mt(t);function S(e){return e.attendance.classSession.endedAt?e.attendance.classSession.endedAt?wt:void 0:bt}var T=S(t),C=T&&T(t);return{c(){n=d("div"),r=d("p"),a=d("a"),s=h(k),i=h(" class lesson\n      "),c=h(x),f=p(),$&&$.c(),b=p(),_&&_.c(),y=p(),v=d("p"),C&&C.c(),m(a,"href",g="#/session/"+t.attendance.classSession.id),m(r,"class","svelte-qy4mgu"),m(v,"class","svelte-qy4mgu"),m(n,"class","lesson svelte-qy4mgu")},m(e,t){u(e,n,t),o(n,r),o(r,a),o(a,s),o(a,i),o(a,c),o(a,f),$&&$.m(a,null),o(r,b),_&&_.m(r,null),o(n,y),o(n,v),C&&C.m(v,null)},p(e,t){e.attendance&&k!==(k=t.attendance.classSession.group.name)&&w(s,k),e.attendance&&x!==(x=t.attendance.classSession.number)&&w(c,x),t.attendance.classSession.lesson?$?$.p(e,t):(($=gt(t)).c(),$.m(a,null)):$&&($.d(1),$=null),e.attendance&&g!==(g="#/session/"+t.attendance.classSession.id)&&m(a,"href",g),"Present"!==t.attendance.status?_?_.p(e,t):((_=mt(t)).c(),_.m(r,null)):_&&(_.d(1),_=null),T===(T=S(t))&&C?C.p(e,t):(C&&C.d(1),(C=T&&T(t))&&(C.c(),C.m(v,null)))},i:e,o:e,d(e){e&&l(n),$&&$.d(),_&&_.d(),C&&C.d()}}}function vt(e,t,n){let{attendance:r}=t;return e.$set=e=>{"attendance"in e&&n("attendance",r=e.attendance)},{attendance:r,format:e=>{if(e)return ft(new Date(e),new Date)}}}class kt extends I{constructor(e){super(),H(this,e,vt,yt,s,["attendance"])}}function xt(e,t,n){const r=Object.create(e);return r.attendance=t[n],r}function $t(t){var n;return{c(){(n=d("p")).textContent="No lessons yet"},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}function _t(e){var t,n,r,a,s,i,c,g=e.attendances.length,m=[],b=new Map,y=e.attendances;const v=e=>e.attendance.id;for(var k=0;k<y.length;k+=1){let t=xt(e,y,k),n=v(t);b.set(n,m[k]=St(n,t))}return{c(){for(t=d("p"),n=h("Showing "),r=h(g),a=h(" lessons."),s=p(),k=0;k<m.length;k+=1)m[k].c();i=f()},m(e,l){for(u(e,t,l),o(t,n),o(t,r),o(t,a),u(e,s,l),k=0;k<m.length;k+=1)m[k].m(e,l);u(e,i,l),c=!0},p(e,t){c&&!e.attendances||g===(g=t.attendances.length)||w(r,g);const n=t.attendances;q(),m=R(m,e,v,1,t,n,b,i.parentNode,U,St,i,xt),D()},i(e){if(!c){for(var t=0;t<y.length;t+=1)z(m[t]);c=!0}},o(e){for(k=0;k<m.length;k+=1)L(m[k]);c=!1},d(e){for(e&&(l(t),l(s)),k=0;k<m.length;k+=1)m[k].d(e);e&&l(i)}}}function St(e,t){var n,r,a=new kt({props:{attendance:t.attendance}});return{key:e,first:null,c(){n=f(),a.$$.fragment.c(),this.first=n},m(e,t){u(e,n,t),W(a,e,t),r=!0},p(e,t){var n={};e.attendances&&(n.attendance=t.attendance),a.$set(n)},i(e){r||(z(a.$$.fragment,e),r=!0)},o(e){L(a.$$.fragment,e),r=!1},d(e){e&&l(n),j(a,e)}}}function Tt(e){var t,n,r,a,s=[_t,$t],i=[];function o(e){return e.attendances.length>0?0:1}return t=o(e),n=i[t]=s[t](e),{c(){n.c(),r=f()},m(e,n){i[t].m(e,n),u(e,r,n),a=!0},p(e,a){var u=t;(t=o(a))===u?i[t].p(e,a):(q(),L(i[u],1,1,()=>{i[u]=null}),D(),(n=i[t])||(n=i[t]=s[t](a)).c(),z(n,1),n.m(r.parentNode,r))},i(e){a||(z(n),a=!0)},o(e){L(n),a=!1},d(e){i[t].d(e),e&&l(r)}}}function Ct(e,t,n){let{attendances:r=[]}=t;return e.$set=e=>{"attendances"in e&&n("attendances",r=e.attendances)},{attendances:r}}class Mt extends I{constructor(e){super(),H(this,e,Ct,Tt,s,["attendances"])}}function Nt(t){var n,r,a;return{c(){n=d("header"),r=d("h1"),a=h(t.$title)},m(e,t){u(e,n,t),o(n,r),o(r,a)},p(e,t){e.$title&&w(a,t.$title)},i:e,o:e,d(e){e&&l(n)}}}const At=F("æå­è±è¯­");function Pt(e,t,n){let r;return i(e,At,e=>{n("$title",r=e)}),{$title:r}}class Et extends I{constructor(e){super(),H(this,e,Pt,Nt,s,[])}}function qt(e){var t,n;return{c(){t=d("p"),n=h(e.errors),m(t,"class","errors")},m(e,r){u(e,t,r),o(t,n)},p(e,t){e.errors&&w(n,t.errors)},d(e){e&&l(t)}}}function Dt(t){var n;return{c(){(n=d("p")).textContent="Loading student data..."},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}function zt(e){var t,n,r=e.$student.attendances&&Lt(e);return{c(){r&&r.c(),t=f()},m(e,a){r&&r.m(e,a),u(e,t,a),n=!0},p(e,n){n.$student.attendances?r?(r.p(e,n),z(r,1)):((r=Lt(n)).c(),z(r,1),r.m(t.parentNode,t)):r&&(q(),L(r,1,1,()=>{r=null}),D())},i(e){n||(z(r),n=!0)},o(e){L(r),n=!1},d(e){r&&r.d(e),e&&l(t)}}}function Lt(e){var t,n=new Mt({props:{attendances:e.$student.attendances}});return{c(){n.$$.fragment.c()},m(e,r){W(n,e,r),t=!0},p(e,t){var r={};e.$student&&(r.attendances=t.$student.attendances),n.$set(r)},i(e){t||(z(n.$$.fragment,e),t=!0)},o(e){L(n.$$.fragment,e),t=!1},d(e){j(n,e)}}}function Ot(e){var t,n,r,a,s,i,c,g,m,b=e.$auth.englishName,y=e.errors&&qt(e),v=[zt,Dt],k=[];function x(e){return e.$student?0:e.errors?-1:1}return~(i=x(e))&&(c=k[i]=v[i](e)),{c(){t=d("h2"),n=h(b),r=h("'s lessons"),a=p(),y&&y.c(),s=p(),c&&c.c(),g=f()},m(e,l){u(e,t,l),o(t,n),o(t,r),u(e,a,l),y&&y.m(e,l),u(e,s,l),~i&&k[i].m(e,l),u(e,g,l),m=!0},p(e,t){m&&!e.$auth||b===(b=t.$auth.englishName)||w(n,b),t.errors?y?y.p(e,t):((y=qt(t)).c(),y.m(s.parentNode,s)):y&&(y.d(1),y=null);var r=i;(i=x(t))===r?~i&&k[i].p(e,t):(c&&(q(),L(k[r],1,1,()=>{k[r]=null}),D()),~i?((c=k[i])||(c=k[i]=v[i](t)).c(),z(c,1),c.m(g.parentNode,g)):c=null)},i(e){m||(z(c),m=!0)},o(e){L(c),m=!1},d(e){e&&(l(t),l(a)),y&&y.d(e),e&&l(s),~i&&k[i].d(e),e&&l(g)}}}function Ut(e,t,n){let r,a;i(e,V,e=>{n("$auth",r=e)}),i(e,he,e=>{n("$student",a=e)});let s="";return k(async()=>{try{await he.get(r.id)}catch(e){n("errors",s=e)}}),At.set("æå­è±è¯­"),{errors:s,$auth:r,$student:a}}var Rt=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){!function(t){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:m,table:m,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||x.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=w({},n),n.gfm=w({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=w({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:m,paragraph:h(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,a,s,i,o,u,l,d,h,p,f,g,m,w,v,k;for(e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e)){var x=this.tokens[this.tokens.length-1];e=e.substring(s[0].length),x&&"paragraph"===x.type?x.text+="\n"+s[0].trimRight():(s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?s:y(s,"\n")}))}else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2]?s[2].trim():s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if((s=this.rules.nptable.exec(e))&&(u={type:"table",header:b(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(s[0].length),f=0;f<u.align.length;f++)/^ *-+: *$/.test(u.align[f])?u.align[f]="right":/^ *:-+: *$/.test(u.align[f])?u.align[f]="center":/^ *:-+ *$/.test(u.align[f])?u.align[f]="left":u.align[f]=null;for(f=0;f<u.cells.length;f++)u.cells[f]=b(u.cells[f],u.header.length);this.tokens.push(u)}else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),l={type:"list_start",ordered:w=(i=s[2]).length>1,start:w?+i:"",loose:!1},this.tokens.push(l),d=[],r=!1,m=(s=s[0].match(this.rules.item)).length,f=0;f<m;f++)p=(u=s[f]).length,~(u=u.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(p-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+p+"}","gm"),"")),f!==m-1&&(o=n.bullet.exec(s[f+1])[0],(i.length>1?1===o.length:o.length>1||this.options.smartLists&&o!==i)&&(e=s.slice(f+1).join("\n")+e,f=m-1)),a=r||/\n\n(?!\s*$)/.test(u),f!==m-1&&(r="\n"===u.charAt(u.length-1),a||(a=r)),a&&(l.loose=!0),k=void 0,(v=/^\[[ xX]\] /.test(u))&&(k=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:v,checked:k,loose:a},d.push(h),this.tokens.push(h),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(m=d.length,f=0;f<m;f++)d[f].loose=!0;this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):c(s[0]):s[0]});else if(t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),s[3]&&(s[3]=s[3].substring(1,s[3].length-1)),g=s[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:s[2],title:s[3]});else if((s=this.rules.table.exec(e))&&(u={type:"table",header:b(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(s[0].length),f=0;f<u.align.length;f++)/^ *-+: *$/.test(u.align[f])?u.align[f]="right":/^ *:-+: *$/.test(u.align[f])?u.align[f]="center":/^ *:-+ *$/.test(u.align[f])?u.align[f]="left":u.align[f]=null;for(f=0;f<u.cells.length;f++)u.cells[f]=b(u.cells[f].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2].charAt(0)?1:2,text:s[1]});else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var a={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function s(e,t){if(this.options=t||x.defaults,this.links=e,this.rules=a.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.options.breaks?this.rules=a.breaks:this.rules=a.gfm)}function i(e){this.options=e||x.defaults}function o(){}function u(e){this.tokens=[],this.token=null,this.options=e||x.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new l}function l(){this.seen={}}function c(e,t){if(t){if(c.escapeTest.test(e))return e.replace(c.escapeReplace,function(e){return c.replacements[e]})}else if(c.escapeTestNoEncode.test(e))return e.replace(c.escapeReplaceNoEncode,function(e){return c.replacements[e]});return e}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t,n){if(e){try{var r=decodeURIComponent(d(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){f[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=y(e,"/",!0));return e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}a._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",a.em=h(a.em).replace(/punctuation/g,a._punctuation).getRegex(),a._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,a._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,a._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,a.autolink=h(a.autolink).replace("scheme",a._scheme).replace("email",a._email).getRegex(),a._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,a.tag=h(a.tag).replace("comment",n._comment).replace("attribute",a._attribute).getRegex(),a._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,a._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,a._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,a.link=h(a.link).replace("label",a._label).replace("href",a._href).replace("title",a._title).getRegex(),a.reflink=h(a.reflink).replace("label",a._label).getRegex(),a.normal=w({},a),a.pedantic=w({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",a._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",a._label).getRegex()}),a.gfm=w({},a.normal,{escape:h(a.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),a.gfm.url=h(a.gfm.url,"i").replace("email",a.gfm._extended_email).getRegex(),a.breaks=w({},a.gfm,{br:h(a.br).replace("{2,}","*").getRegex(),text:h(a.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),s.rules=a,s.output=function(e,t,n){return new s(t,n).output(e)},s.prototype.output=function(e){for(var t,n,r,a,i,o,u="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),u+=c(i[1]);else if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.inRawBlock=!1),e=e.substring(i[0].length),u+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):c(i[0]):i[0];else if(i=this.rules.link.exec(e)){var l=v(i[2],"()");if(l>-1){var d=4+i[1].length+l;i[2]=i[2].substring(0,l),i[0]=i[0].substring(0,d).trim(),i[3]=""}e=e.substring(i[0].length),this.inLink=!0,r=i[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],a=t[3]):a="":a=i[3]?i[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),u+=this.outputLink(i,{href:s.escapes(r),title:s.escapes(a)}),this.inLink=!1}else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){u+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,u+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),u+=this.renderer.strong(this.output(i[4]||i[3]||i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),u+=this.renderer.em(this.output(i[6]||i[5]||i[4]||i[3]||i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),u+=this.renderer.codespan(c(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),u+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),u+=this.renderer.del(this.output(i[1]));else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=c(this.mangle(i[1]))):n=c(i[1]),u+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.inRawBlock?u+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):c(i[0]):i[0]):u+=this.renderer.text(c(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===i[2])r="mailto:"+(n=c(i[0]));else{do{o=i[0],i[0]=this.rules._backpedal.exec(i[0])[0]}while(o!==i[0]);n=c(i[0]),r="www."===i[1]?"http://"+n:n}e=e.substring(i[0].length),u+=this.renderer.link(r,null,n)}return u},s.escapes=function(e){return e?e.replace(s.rules._escapes,"$1"):e},s.prototype.outputLink=function(e,t){var n=t.href,r=t.title?c(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,c(e[1]))},s.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦"):e},s.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,a=0;a<r;a++)t=e.charCodeAt(a),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var a=this.options.highlight(e,r);null!=a&&a!==e&&(n=!0,e=a)}return r?'<pre><code class="'+this.options.langPrefix+c(r,!0)+'">'+(n?e:c(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:c(e,!0))+"</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+c(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},i.prototype.image=function(e,t,n){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},i.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return""+n},o.prototype.br=function(){return""},u.parse=function(e,t){return new u(t).parse(e)},u.prototype.parse=function(e){this.inline=new s(e.links,this.options),this.inlineText=new s(e.links,w({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},u.prototype.next=function(){return this.token=this.tokens.pop(),this.token},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,a="",s="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(a+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(a,s);case"blockquote_start":for(s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":s="";for(var i=this.token.ordered,o=this.token.start;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,i,o);case"list_item_start":s="";var u=this.token.loose,l=this.token.checked,c=this.token.task;for(this.token.task&&(s+=this.renderer.checkbox(l));"list_item_end"!==this.next().type;)s+=u||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(s,c,l);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},l.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},c.escapeTest=/[&<>"']/,c.escapeReplace=/[&<>"']/g,c.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,c.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function w(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function b(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,a=t;--a>=0&&"\\"===n[a];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function y(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var a=e.charAt(e.length-r-1);if(a!==t||n){if(a===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function v(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function k(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function x(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),k(t=w({},x.defaults,t||{}));var a,s,i=t.highlight,o=0;try{a=r.lex(e,t)}catch(e){return n(e)}s=a.length;var l=function(e){if(e)return t.highlight=i,n(e);var r;try{r=u.parse(a,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,r)};if(!i||i.length<3)return l();if(delete t.highlight,!s)return l();for(;o<a.length;o++)!function(e){"code"!==e.type?--s||l():i(e.text,e.lang,function(t,n){return t?l(t):null==n||n===e.text?--s||l():(e.text=n,e.escaped=!0,void(--s||l()))})}(a[o])}else try{return t&&(t=w({},x.defaults,t)),k(t),u.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||x.defaults).silent)return"<p>An error occurred:</p><pre>"+c(e.message+"",!0)+"</pre>";throw e}}m.exec=m,x.options=x.setOptions=function(e){return w(x.defaults,e),x},x.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new i,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},x.defaults=x.getDefaults(),x.Parser=u,x.parser=u.parse,x.Renderer=i,x.TextRenderer=o,x.Lexer=r,x.lexer=r.lex,x.InlineLexer=s,x.inlineLexer=s.output,x.Slugger=l,x.parse=x,e.exports=x}()});function Wt(t){var n,r,a,s,i=t.material.title;return{c(){n=d("li"),r=d("a"),a=h(i),m(r,"href",s=t.material.url)},m(e,t){u(e,n,t),o(n,r),o(r,a)},p(e,t){e.material&&i!==(i=t.material.title)&&w(a,i),e.material&&s!==(s=t.material.url)&&m(r,"href",s)},i:e,o:e,d(e){e&&l(n)}}}function jt(e,t,n){let{material:r}=t;return e.$set=e=>{"material"in e&&n("material",r=e.material)},{material:r}}class Yt extends I{constructor(e){super(),H(this,e,jt,Wt,s,["material"])}}function Ht(e,t,n){const r=Object.create(e);return r.material=t[n],r}function It(e){var t,n,r=[],a=new Map,s=e.materials;const i=e=>e.material.id;for(var o=0;o<s.length;o+=1){let t=Ht(e,s,o),n=i(t);a.set(n,r[o]=Zt(n,t))}return{c(){for(o=0;o<r.length;o+=1)r[o].c();t=f()},m(e,a){for(o=0;o<r.length;o+=1)r[o].m(e,a);u(e,t,a),n=!0},p(e,n){const s=n.materials;q(),r=R(r,e,i,1,n,s,a,t.parentNode,U,Zt,t,Ht),D()},i(e){if(!n){for(var t=0;t<s.length;t+=1)z(r[t]);n=!0}},o(e){for(o=0;o<r.length;o+=1)L(r[o]);n=!1},d(e){for(o=0;o<r.length;o+=1)r[o].d(e);e&&l(t)}}}function Zt(e,t){var n,r,a=new Yt({props:{material:t.material}});return{key:e,first:null,c(){n=f(),a.$$.fragment.c(),this.first=n},m(e,t){u(e,n,t),W(a,e,t),r=!0},p(e,t){var n={};e.materials&&(n.material=t.material),a.$set(n)},i(e){r||(z(a.$$.fragment,e),r=!0)},o(e){L(a.$$.fragment,e),r=!1},d(e){e&&l(n),j(a,e)}}}function Bt(e){var t,n,r,a,s=e.materials&&It(e);return{c(){(t=d("h3")).textContent="Materials",n=p(),s&&s.c(),r=f()},m(e,i){u(e,t,i),u(e,n,i),s&&s.m(e,i),u(e,r,i),a=!0},p(e,t){t.materials?s?(s.p(e,t),z(s,1)):((s=It(t)).c(),z(s,1),s.m(r.parentNode,r)):s&&(q(),L(s,1,1,()=>{s=null}),D())},i(e){a||(z(s),a=!0)},o(e){L(s),a=!1},d(e){e&&(l(t),l(n)),s&&s.d(e),e&&l(r)}}}function Ft(e,t,n){let{materials:r}=t;return e.$set=e=>{"materials"in e&&n("materials",r=e.materials)},{materials:r}}class Xt extends I{constructor(e){super(),H(this,e,Ft,Bt,s,["materials"])}}function Qt(e,t,n){const r=Object.create(e);return r.word=t[n],r}function Gt(e){var t,n=[],r=new Map,a=e.words;const s=e=>e.word.id;for(var i=0;i<a.length;i+=1){let t=Qt(e,a,i),o=s(t);r.set(o,n[i]=Jt(o,t))}return{c(){for(i=0;i<n.length;i+=1)n[i].c();t=f()},m(e,r){for(i=0;i<n.length;i+=1)n[i].m(e,r);u(e,t,r)},p(e,a){const i=a.words;n=R(n,e,s,1,a,i,r,t.parentNode,O,Jt,t,Qt)},d(e){for(i=0;i<n.length;i+=1)n[i].d(e);e&&l(t)}}}function Jt(e,t){var n,r,a,s,i=t.word.english,c=t.word.chinese;return{key:e,first:null,c(){n=d("li"),r=h(i),a=h(" - "),s=h(c),this.first=n},m(e,t){u(e,n,t),o(n,r),o(n,a),o(n,s)},p(e,t){e.words&&i!==(i=t.word.english)&&w(r,i),e.words&&c!==(c=t.word.chinese)&&w(s,c)},d(e){e&&l(n)}}}function Vt(t){var n,r,a,s=t.words&&Gt(t);return{c(){(n=d("h3")).textContent="Words",r=p(),s&&s.c(),a=f()},m(e,t){u(e,n,t),u(e,r,t),s&&s.m(e,t),u(e,a,t)},p(e,t){t.words?s?s.p(e,t):((s=Gt(t)).c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&(l(n),l(r)),s&&s.d(e),e&&l(a)}}}function Kt(e,t,n){let{words:r}=t;return e.$set=e=>{"words"in e&&n("words",r=e.words)},{words:r}}class en extends I{constructor(e){super(),H(this,e,Kt,Vt,s,["words"])}}function tn(e){var t,n;return{c(){t=d("p"),n=h(e.errors),m(t,"class","errors")},m(e,r){u(e,t,r),o(t,n)},p(e,t){e.errors&&w(n,t.errors)},d(e){e&&l(t)}}}function nn(t){var n;return{c(){(n=d("p")).textContent="Loading class session..."},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}function rn(e){var t,n,r,a,s,i,o=e.session.lesson&&an(e),c=e.session.endedAt&&sn(e),d=[un,on],h=[];function g(e){return e.session.report&&e.session.report.published?0:1}return r=g(e),a=h[r]=d[r](e),{c(){o&&o.c(),t=p(),c&&c.c(),n=p(),a.c(),s=f()},m(e,a){o&&o.m(e,a),u(e,t,a),c&&c.m(e,a),u(e,n,a),h[r].m(e,a),u(e,s,a),i=!0},p(e,i){i.session.lesson?o?o.p(e,i):((o=an(i)).c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),i.session.endedAt?c?c.p(e,i):((c=sn(i)).c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null);var u=r;(r=g(i))===u?h[r].p(e,i):(q(),L(h[u],1,1,()=>{h[u]=null}),D(),(a=h[r])||(a=h[r]=d[r](i)).c(),z(a,1),a.m(s.parentNode,s))},i(e){i||(z(a),i=!0)},o(e){L(a),i=!1},d(e){o&&o.d(e),e&&l(t),c&&c.d(e),e&&l(n),h[r].d(e),e&&l(s)}}}function an(e){var t,n,r=e.session.lesson.name;return{c(){t=d("h2"),n=h(r)},m(e,r){u(e,t,r),o(t,n)},p(e,t){e.session&&r!==(r=t.session.lesson.name)&&w(n,r)},d(e){e&&l(t)}}}function sn(e){var t,n,r=e.format(e.session.endedAt);return{c(){t=d("p"),n=h(r)},m(e,r){u(e,t,r),o(t,n)},p(e,t){e.session&&r!==(r=t.format(t.session.endedAt))&&w(n,r)},d(e){e&&l(t)}}}function on(t){var n;return{c(){(n=d("p")).textContent="No report is available yet."},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}function un(e){var t,n,r,a,s,i=e.session.report.summaryZH&&ln(e),o=e.session.report.homeworkZH&&cn(e),c=e.session.report.materials&&dn(e),d=e.session.report.words&&hn(e);return{c(){i&&i.c(),t=p(),o&&o.c(),n=p(),c&&c.c(),r=p(),d&&d.c(),a=f()},m(e,l){i&&i.m(e,l),u(e,t,l),o&&o.m(e,l),u(e,n,l),c&&c.m(e,l),u(e,r,l),d&&d.m(e,l),u(e,a,l),s=!0},p(e,s){s.session.report.summaryZH?i?i.p(e,s):((i=ln(s)).c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),s.session.report.homeworkZH?o?o.p(e,s):((o=cn(s)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),s.session.report.materials?c?(c.p(e,s),z(c,1)):((c=dn(s)).c(),z(c,1),c.m(r.parentNode,r)):c&&(q(),L(c,1,1,()=>{c=null}),D()),s.session.report.words?d?(d.p(e,s),z(d,1)):((d=hn(s)).c(),z(d,1),d.m(a.parentNode,a)):d&&(q(),L(d,1,1,()=>{d=null}),D())},i(e){s||(z(c),z(d),s=!0)},o(e){L(c),L(d),s=!1},d(e){i&&i.d(e),e&&l(t),o&&o.d(e),e&&l(n),c&&c.d(e),e&&l(r),d&&d.d(e),e&&l(a)}}}function ln(e){var t,n,r,a,s=Rt(e.session.report.summaryZH,{breaks:!0});return{c(){(t=d("h3")).textContent="Summary",n=p(),r=d("noscript"),a=d("noscript")},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),r.insertAdjacentHTML("afterend",s),u(e,a,i)},p(e,t){e.session&&s!==(s=Rt(t.session.report.summaryZH,{breaks:!0}))&&(c(r,a),r.insertAdjacentHTML("afterend",s))},d(e){e&&(l(t),l(n),c(r,a),l(r),l(a))}}}function cn(e){var t,n,r,a,s=Rt(e.session.report.homeworkZH,{breaks:!0});return{c(){(t=d("h3")).textContent="Homework",n=p(),r=d("noscript"),a=d("noscript")},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),r.insertAdjacentHTML("afterend",s),u(e,a,i)},p(e,t){e.session&&s!==(s=Rt(t.session.report.homeworkZH,{breaks:!0}))&&(c(r,a),r.insertAdjacentHTML("afterend",s))},d(e){e&&(l(t),l(n),c(r,a),l(r),l(a))}}}function dn(e){var t,n=new Xt({props:{materials:e.session.report.materials}});return{c(){n.$$.fragment.c()},m(e,r){W(n,e,r),t=!0},p(e,t){var r={};e.session&&(r.materials=t.session.report.materials),n.$set(r)},i(e){t||(z(n.$$.fragment,e),t=!0)},o(e){L(n.$$.fragment,e),t=!1},d(e){j(n,e)}}}function hn(e){var t,n=new en({props:{words:e.session.report.words}});return{c(){n.$$.fragment.c()},m(e,r){W(n,e,r),t=!0},p(e,t){var r={};e.session&&(r.words=t.session.report.words),n.$set(r)},i(e){t||(z(n.$$.fragment,e),t=!0)},o(e){L(n.$$.fragment,e),t=!1},d(e){j(n,e)}}}function pn(e){var t,n,r,a,s,i,o,c=e.errors&&tn(e),h=[rn,nn],g=[];function w(e){return e.session?0:e.errors?-1:1}return~(a=w(e))&&(s=g[a]=h[a](e)),{c(){(t=d("a")).textContent="âBack to lessons",n=p(),c&&c.c(),r=p(),s&&s.c(),i=f(),m(t,"href","#/")},m(e,s){u(e,t,s),u(e,n,s),c&&c.m(e,s),u(e,r,s),~a&&g[a].m(e,s),u(e,i,s),o=!0},p(e,t){t.errors?c?c.p(e,t):((c=tn(t)).c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null);var n=a;(a=w(t))===n?~a&&g[a].p(e,t):(s&&(q(),L(g[n],1,1,()=>{g[n]=null}),D()),~a?((s=g[a])||(s=g[a]=h[a](t)).c(),z(s,1),s.m(i.parentNode,i)):s=null)},i(e){o||(z(s),o=!0)},o(e){L(s),o=!1},d(e){e&&(l(t),l(n)),c&&c.d(e),e&&l(r),~a&&g[a].d(e),e&&l(i)}}}function fn(e,t,n){let r,a="",{params:s={}}=t;k(async()=>{try{const e=await G(de,{id:s.id});n("session",r=e.classSession),At.set(`${r.group.name}ç­ç¬¬${r.number}è¯¾`),n("errors",a="")}catch(e){n("errors",a=e)}});return e.$set=e=>{"params"in e&&n("params",s=e.params)},{session:r,errors:a,params:s,format:e=>{if(e)return ft(new Date(e),new Date)}}}var gn={"/":class extends I{constructor(e){super(),H(this,e,Ut,Ot,s,[])}},"/session/:id":class extends I{constructor(e){super(),H(this,e,fn,pn,s,["params"])}},"*":class extends I{constructor(e){super(),H(this,e,le,ue,s,["params"])}}};function mn(e,t,n){const r=Object.create(e);return r.student=t[n],r}function wn(e){var t,n,r,a,s,i,c,f=e.students.length,m=[],y=new Map,v=e.students;const k=e=>e.student.id;for(var x=0;x<v.length;x+=1){let t=mn(e,v,x),n=k(t);y.set(n,m[x]=yn(n,t))}return{c(){for(t=d("p"),n=h(f),r=h(" matching students"),a=p(),s=d("select"),(i=d("option")).textContent="Select a student",x=0;x<m.length;x+=1)m[x].c();i.__value="Select a student",i.value=i.__value,void 0===e.selected&&M(()=>e.select_change_handler.call(s)),c=g(s,"change",e.select_change_handler)},m(l,c){for(u(l,t,c),o(t,n),o(t,r),u(l,a,c),u(l,s,c),o(s,i),x=0;x<m.length;x+=1)m[x].m(s,null);b(s,e.selected)},p(e,t){e.students&&f!==(f=t.students.length)&&w(n,f);const r=t.students;m=R(m,e,k,1,t,r,y,s,O,yn,null,mn),e.selected&&b(s,t.selected)},d(e){for(e&&(l(t),l(a),l(s)),x=0;x<m.length;x+=1)m[x].d();c()}}}function bn(e){var t,n,r,a=e.student.chineseName;return{c(){t=h("("),n=h(a),r=h(")")},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a)},p(e,t){e.students&&a!==(a=t.student.chineseName)&&w(n,a)},d(e){e&&(l(t),l(n),l(r))}}}function yn(e,t){var n,r,a,s,i,c=t.student.englishName,f=t.student.chineseName&&bn(t);return{key:e,first:null,c(){n=d("option"),r=h(c),a=p(),f&&f.c(),s=p(),n.__value=i=t.student.id,n.value=n.__value,this.first=n},m(e,t){u(e,n,t),o(n,r),o(n,a),f&&f.m(n,null),o(n,s)},p(e,t){e.students&&c!==(c=t.student.englishName)&&w(r,c),t.student.chineseName?f?f.p(e,t):((f=bn(t)).c(),f.m(n,s)):f&&(f.d(1),f=null),e.students&&i!==(i=t.student.id)&&(n.__value=i),n.value=n.__value},d(e){e&&l(n),f&&f.d()}}}function vn(e){var t;function n(e){return e.selectedStudent.lastLogin?kn:xn}var r=n(e),a=r(e);return{c(){a.c(),t=f()},m(e,n){a.m(e,n),u(e,t,n)},p(e,s){r===(r=n(s))&&a?a.p(e,s):(a.d(1),(a=r(s))&&(a.c(),a.m(t.parentNode,t)))},d(e){a.d(e),e&&l(t)}}}function kn(e){var t,n,a,s,i,o;return{c(){(t=d("label")).textContent="Password",n=p(),a=d("input"),s=p(),(i=d("button")).textContent="Log in",m(a,"type","password"),o=[g(a,"input",e.input_input_handler_1),g(i,"click",e.login)]},m(r,o){u(r,t,o),u(r,n,o),u(r,a,o),a.value=e.password,u(r,s,o),u(r,i,o)},p(e,t){e.password&&a.value!==t.password&&(a.value=t.password)},d(e){e&&(l(t),l(n),l(a),l(s),l(i)),r(o)}}}function xn(e){var t,n,a,s,i,o,c,h,f,w,b,y=!e.passwordsMatch&&$n();return{c(){(t=d("label")).textContent="Create a password",n=p(),a=d("input"),s=p(),(i=d("label")).textContent="Confirm password",o=p(),y&&y.c(),c=p(),h=d("input"),f=p(),(w=d("button")).textContent="Register",m(a,"type","password"),m(h,"type","password"),b=[g(a,"input",e.input0_input_handler),g(a,"change",e.checkPasswords),g(h,"input",e.input1_input_handler),g(h,"change",e.checkPasswords),g(w,"click",e.register)]},m(r,l){u(r,t,l),u(r,n,l),u(r,a,l),a.value=e.password,u(r,s,l),u(r,i,l),u(r,o,l),y&&y.m(r,l),u(r,c,l),u(r,h,l),h.value=e.passwordConfirm,u(r,f,l),u(r,w,l)},p(e,t){e.password&&a.value!==t.password&&(a.value=t.password),t.passwordsMatch?y&&(y.d(1),y=null):y||((y=$n()).c(),y.m(c.parentNode,c)),e.passwordConfirm&&h.value!==t.passwordConfirm&&(h.value=t.passwordConfirm)},d(e){e&&(l(t),l(n),l(a),l(s),l(i),l(o)),y&&y.d(e),e&&(l(c),l(h),l(f),l(w)),r(b)}}}function $n(e){var t;return{c(){(t=d("p")).textContent="Passwords don't match.",m(t,"class","error svelte-1w3vxkk")},m(e,n){u(e,t,n)},d(e){e&&l(t)}}}function _n(t){var n,a,s,i,c,h,w,b,y,v,k=t.students&&t.students.length>0&&wn(t),x=t.selected&&vn(t);return{c(){n=d("div"),(a=d("h2")).textContent="Login",s=p(),(i=d("label")).textContent="Search by student's name",c=p(),h=d("input"),w=p(),k&&k.c(),b=p(),x&&x.c(),y=f(),m(h,"type","text"),v=[g(h,"input",t.input_input_handler),g(h,"input",t.reload)]},m(e,r){u(e,n,r),o(n,a),o(n,s),o(n,i),o(n,c),o(n,h),h.value=t.searchString,o(n,w),k&&k.m(n,null),u(e,b,r),x&&x.m(e,r),u(e,y,r)},p(e,t){e.searchString&&h.value!==t.searchString&&(h.value=t.searchString),t.students&&t.students.length>0?k?k.p(e,t):((k=wn(t)).c(),k.m(n,null)):k&&(k.d(1),k=null),t.selected?x?x.p(e,t):((x=vn(t)).c(),x.m(y.parentNode,y)):x&&(x.d(1),x=null)},i:e,o:e,d(e){e&&l(n),k&&k.d(),e&&l(b),x&&x.d(e),e&&l(y),r(v)}}}function Sn(e,t,n){let r=[],a="",s="",i="",o="",u=!0;k(async()=>{try{const e=await G(ce);n("students",r=e.students)}catch(e){console.error(e)}});const l=()=>{o&&n("passwordsMatch",u=i===o)};let c;return e.$$.update=(e={students:1,selected:1})=>{(e.students||e.selected)&&n("selectedStudent",c=r.find(e=>e.id===s))},{students:r,searchString:a,selected:s,password:i,passwordConfirm:o,passwordsMatch:u,reload:async()=>{const e=await G(ce,{searchString:a});n("students",r=e.students)},checkPasswords:l,register:async()=>{if(l(),i&&o&&u)try{await V.register(s,i)}catch(e){console.error(e)}},login:async()=>{if(i)try{await V.login(s,i)}catch(e){console.error(e)}},selectedStudent:c,input_input_handler:function(){a=this.value,n("searchString",a)},select_change_handler:function(){s=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n("selected",s),n("students",r)},input0_input_handler:function(){i=this.value,n("password",i)},input1_input_handler:function(){o=this.value,n("passwordConfirm",o)},input_input_handler_1:function(){i=this.value,n("password",i)}}}class Tn extends I{constructor(e){super(),H(this,e,Sn,_n,s,[])}}function Cn(t){var n,r=new Tn({});return{c(){r.$$.fragment.c()},m(e,t){W(r,e,t),n=!0},p:e,i(e){n||(z(r.$$.fragment,e),n=!0)},o(e){L(r.$$.fragment,e),n=!1},d(e){j(r,e)}}}function Mn(e){var t,n=new se({props:{routes:gn}});return{c(){n.$$.fragment.c()},m(e,r){W(n,e,r),t=!0},p(e,t){var r={};e.routes&&(r.routes=gn),n.$set(r)},i(e){t||(z(n.$$.fragment,e),t=!0)},o(e){L(n.$$.fragment,e),t=!1},d(e){j(n,e)}}}function Nn(e){var t,n,r,a,s,i=new Et({}),o=[Mn,Cn],c=[];function h(e){return e.$auth.token?0:1}return r=h(e),a=c[r]=o[r](e),{c(){i.$$.fragment.c(),t=p(),n=d("main"),a.c(),m(n,"class","container")},m(e,a){W(i,e,a),u(e,t,a),u(e,n,a),c[r].m(n,null),s=!0},p(e,t){var s=r;(r=h(t))===s?c[r].p(e,t):(q(),L(c[s],1,1,()=>{c[s]=null}),D(),(a=c[r])||(a=c[r]=o[r](t)).c(),z(a,1),a.m(n,null))},i(e){s||(z(i.$$.fragment,e),z(a),s=!0)},o(e){L(i.$$.fragment,e),L(a),s=!1},d(e){j(i,e),e&&(l(t),l(n)),c[r].d()}}}function An(e,t,n){let r;return i(e,V,e=>{n("$auth",r=e)}),{$auth:r}}return new class extends I{constructor(e){super(),H(this,e,An,Nn,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
